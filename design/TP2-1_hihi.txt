
  Background:
    Given the database connection is established
    And the SQL script is provided

  Scenario: Create purgo_playground Schema if it Does Not Exist
    Given the purgo_playground schema does not exist in the database
    When the SQL script is executed
    Then the purgo_playground schema is created successfully
    And the schema exists in the database

  Scenario: Drop Existing Tables in purgo_playground Schema
    Given the purgo_playground schema exists in the database
    And existing tables are present in the schema
    When the SQL script is executed
    Then the existing tables are dropped successfully
    And the schema is empty

  Scenario Outline: Create Tables in purgo_playground Schema
    Given the purgo_playground schema exists in the database
    When the SQL script is executed
    Then the <table_name> table is created successfully
    And the table contains the specified columns and data types

    Examples:
      | table_name  | columns                                      | data_types          |
      | programs    | program_id, program_name, country_code      | int, varchar, varchar|
      | interactions| interaction_id, program_id, interaction_date| int, int, date       |
      | f_order     | order_id, program_id, order_date           | int, int, date       |

  Scenario: Verify All Tables are Created Successfully
    Given the purgo_playground schema exists in the database
    When the SQL script is executed
    Then all specified tables are created successfully
    And the tables contain the specified columns and data types

  Scenario: Error Handling - Missing SQL Script
    Given the SQL script is not provided
    When the script execution is attempted
    Then an error is thrown with the message "SQL script is missing"

  Scenario: Error Handling - Existing Schema with Different Structure
    Given the purgo_playground schema exists in the database with a different structure
    When the SQL script is executed
    Then an error is thrown with the message "Schema already exists with a different structure"

  Scenario: Error Handling - Table Creation Failure
    Given the purgo_playground schema exists in the database
    When the SQL script is executed and table creation fails
    Then an error is thrown with the message "Table creation failed"